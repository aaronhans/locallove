<!doctype html>
<html>
<head>
	<title>Local Love</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
<style type="text/css">
html {
  box-sizing: border-box;
}
*, *:before, *:after {
  box-sizing: inherit;
  font-family: Arial,Helvetica;
}
html, body {
	margin:0;padding:0;
}
header {
	display: block;
  height: 100%;
  background-color: #0076C0;
  padding: 10px;
  margin: 0;
  overflow:hidden;
}
header h1 {
  float: left;
  margin: 10px 0 0 20px;
  color: #fff;
  text-transform: uppercase;
  font-family: Arial,Helvetica;
  font-size: 26px;
}
header .logo {
	width:30px;
	margin-right:10px;
	float:left;
}
.tileset {
	text-align: center;
	margin-bottom:50px;
}
.tile {
  width: 400px;
  height: 250px;
  overflow: hidden;
  border: solid 1px #ccc;
  position: relative;
	display: inline-block;
  margin: 20px;
}
.metadata {
  width: 80%;
  margin:20px auto;
  margin: 20px;	
}
.tile img, .tile .title {
	position:absolute;
}
.tile img {
	width:100%;
	top:0;
	left:0;
}
.tile img.horizontal {
	width:auto;
	height:100%;
}
.tile .title {
  font-size: 42px;
  line-height: 250px;
  top: 0;
  left: 0;
  text-align: center;
  width: 100%;
  color: #fff;
  background-color:rgba(0,0,0,.3);
}
.labels .label {
	background-color: #00cc00;
  padding: 20px;
  margin: 20px;
  display: inline-block;
  color: #fff;
}
@media (max-width: 600px) {
	.tile {
	  width: 90%;
	  height: 180px;
    margin: 10px;
	}
	.tile .title {
	  font-size: 28px;
	  line-height: 180px;
	}
}
</style>
</head>
<body>

<header>
	
	<h1><img class="logo" src="http://hack-smc.org/wp-content/uploads/2015/03/SMC_Logo_WEB-e1426027062143-150x150.png">Local, socially responsible businesses</h1>
</header>

<div class="tileset">
	<span class="tile">
		<img src="http://c2.staticflickr.com/8/7266/6963543568_c00d6618e4_n.jpg" alt="Picture by Ryan Johnson https://www.flickr.com/photos/northcharleston/" class="background">
		<span class="title">Farmers Markets</span>
	</span>

	<span class="tile">
		<img src="http://c1.staticflickr.com/1/33/47133328_8d59476d2f_m.jpg" alt="Picture by Sharat Ganapati https://www.flickr.com/photos/frozenchipmunk/" class="background">
		<span class="title">Music</span>
	</span>

	<span class="tile">
		<img src="http://c2.staticflickr.com/8/7108/14028754235_101ae7d96a_n.jpg" alt="Picture by jen https://www.flickr.com/photos/blu_pineappl3/" class="background">
		<span class="title">Coffee</span>
	</span>

	<span class="tile">
		<img src="http://nandiyoga.com/images/community/legs.jpg" alt="Picture of Nandi Yoga Instructors" class="background horizontal">
		<span class="title">Yoga</span>
	</span>

	<span class="tile">
		<img src="http://c1.staticflickr.com/9/8249/8596143348_b40cf0f5d2_n.jpg" alt="Picture by Kirrus https://www.flickr.com/photos/kirrus/" class="background">
		<span class="title">Books</span>
	</span>

	<span class="tile">
		<img src="http://c2.staticflickr.com/8/7183/6796009882_074f87df69_n.jpg" alt="Picture by Manny Valdes https://www.flickr.com/photos/fettuccinealfredo/" class="background">
		<span class="title">Skateboard</span>
	</span>

	<span class="tile">
		<img src="http://boardsportscalifornia.com/wp-content/uploads/2014/10/womensKite.jpeg" alt="Picture from Board Sports" class="background">
		<span class="title">Kiteboard</span>
	</span>
<!--
	<span class="tile">
		<img src="http://" alt="Picture by" class="background">
		<span class="title">Barbers</span>
	</span>
-->	
</div>

<div class="specificTiles"></div>
<!--
http://boardsportscalifornia.com/wp-content/uploads/2010/03/RebeccaSUP.jpg
-->



<!--
Keplers Books
Captains sk8
J-Cuts RWC
Gelb
B street books
3 bees coffe
nandi yoga
atlas sk8
true plant coffee organic
pick of the litter thrift shop

farmers markets
redwood trading post
music stores (gelb)
coffee (3 bees)
yoga (nandi)
-->

<script type="text/javascript">
var data = { "businesses": [
	{
		"name":"Board Sports",
		"description":"Board Sports was founded by independent entrepreneurs Jane and Rebecca. They run free events teaching hundreds of women kite, windsurf and paddle boarding skills. Board Sports also sponsors local ecological efforts like shoreline clean up.",
		"category":"Kiteboard",
		"labels":["Independent","Local Event Creator","Ecological"],
		"address":"1603 Coyote Point Drive, San Mateo, CA 94401",
		"img":"http://boardsportscalifornia.com/wp-content/uploads/2010/03/JCRG-300x217.jpg",
		"website":"http://boardsportscalifornia.com/"
	},
	{
		"name":"Board Sports",
		"description":"Board Sports was founded by independent entrepreneurs Jane and Rebecca. They run free events teaching hundreds of women kite, windsurf and paddle boarding skills. Board Sports also sponsors local ecological efforts like shoreline clean up.",
		"category":"Kiteboard",
		"labels":["Independent","Local Event Creator","Ecological"],
		"address":"1603 Coyote Point Drive, San Mateo, CA 94401",
		"img":"http://boardsportscalifornia.com/wp-content/uploads/2010/03/JCRG-300x217.jpg",
		"website":"http://boardsportscalifornia.com/"
	},
	{
		"name":"",
		"description":"",
		"category":"",
		"labels":[],
		"address":"",
		"img":"",
		"website":""
	},
]};
function showTile(event) {
	name = event.target.innerHTML;
	var matches = [];
	console.log(name)
	for(var i = 0;i<data.businesses.length;i++) {
		console.log(data.businesses[i].category)
		if(data.businesses[i].category == name) {
			matches.push(data.businesses[i]);
		}
	}
	console.log(matches)
	//slide tileset left
	document.querySelector('.tileset').style.display = 'none';
	document.querySelector('.specificTiles').style.display = 'block';
	for(var i = 0;i<matches.length;i++) {
		var item = matches[i];
		var html = "";
		html += '<div class="business"><div class="metadata">'
		html += '<div class="metadata"><h2>'+item.name+'</h2>';
		html += '<img src="'+item.img+'" class="busImage"/></div>';
		html += '<p class="labels">';
		for(var z = 0;z<item.labels.length;z++) {
			html += '<span class="label">'+item.labels[z]+'</span>';
		}
		html += '</p>';
		html += '<p class="description">'+item.description+'</p>';
		html += '<p class="address">'+item.address+'</p>';
		html += '<p class="website"><a href="'+item.website+'">'+item.website+'</a></p>';
		html += '</div></div>'
		document.querySelector('.specificTiles').insertAdjacentHTML('beforeend',html);
	}
	window.scrollTo(0,0);
	history.pushState(data, name, "/"+name);

}
var tiles = document.querySelectorAll('.tile');
for(var i = 0;i<tiles.length;i++) {
	tiles[i].addEventListener('click',showTile);
}

window.addEventListener('popstate', function(event) {
	document.querySelector('.tileset').style.display = 'block';
	document.querySelector('.specificTiles').style.display = 'none';
});

</script>

</body>
</html>